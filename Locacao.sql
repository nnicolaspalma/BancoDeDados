--criação do banco de dados
--create database Locadora

--CRIAÇÃO DAS TABELAS


CREATE TABLE dbo.CLIENTES
(
	COD_CLIENTE INT IDENTITY(1,1) PRIMARY KEY NOT NULL,
	RG VARCHAR(9) NOT NULL,
	NOME VARCHAR(50) NOT NULL,
	ENDERECO VARCHAR(50) NULL,
	BAIRRO VARCHAR(30) NULL,
	CIDADE VARCHAR(30) NULL, 
	ESTADO CHAR(2) NOT NULL,
	TELEFONE VARCHAR(15) NULL,
	EMAIL VARCHAR(30) NULL,
	DATANASCIMENTO DATETIME NULL,
	sexo char(1)
)

CREATE TABLE dbo.CATEGORIA
(
	COD_CATEGORIA INT IDENTITY(1,1) PRIMARY KEY NOT NULL,
	NOME_CATEGORIA VARCHAR(20) NOT NULL,
)

CREATE TABLE dbo.FILME
(
	COD_FILME INT IDENTITY(1,1) PRIMARY KEY NOT NULL,
	FILME VARCHAR(30) NOT NULL,
	COD_CATEGORIA INT NOT NULL,
	DIRETOR VARCHAR(50) NOT NULL,
	VALOR_LOCACAO FLOAT NOT NULL,
	RESERVADA CHAR(1) NOT NULL
)

CREATE TABLE dbo.LOCACOES
(
	COD_LOCACAO INT IDENTITY(1,1) NOT NULL,
	COD_CLIENTE INT NOT NULL,
	COD_FILME INT NOT NULL,
	DATA_RETIRADA DATETIME NOT NULL,
	DATA_DEVOLUCAO DATETIME NULL,
)

--CRIAÇÃO DOS RELACIONAMENTOS 
--LOCACAO - CLIENTES
ALTER TABLE dbo.LOCACOES 
ADD FOREIGN KEY (COD_CLIENTE)
REFERENCES dbo.CLIENTES(COD_CLIENTE)

-- LOCACOES - FILME
ALTER TABLE dbo.LOCACOES
ADD FOREIGN KEY (COD_FILME)
REFERENCES dbo.FILME(COD_FILME)

--FILME - CATEGORIA
ALTER TABLE dbo.FILME 
ADD FOREIGN KEY (COD_CATEGORIA)
REFERENCES dbo.CATEGORIA(COD_CATEGORIA)

-- INSERÇÕES NAS TABELAS
--categoria
INSERT INTO dbo.CATEGORIA VALUES ('Ação')
INSERT INTO dbo.CATEGORIA VALUES ('Romance')
INSERT INTO dbo.CATEGORIA VALUES ('Aventura')
INSERT INTO dbo.CATEGORIA VALUES ('Ficção')
INSERT INTO dbo.CATEGORIA VALUES ('Drama')
INSERT INTO dbo.CATEGORIA VALUES ('Terror')
INSERT INTO dbo.CATEGORIA VALUES ('Desenho')
INSERT INTO dbo.CATEGORIA VALUES ('Policial')
INSERT INTO dbo.CATEGORIA VALUES ('Comédia')

--clientes
INSERT INTO dbo.CLIENTES VALUES ('321346530', 'Edson Martin Feitosa', 'Rua Orlando Alvarenga, 1', 'Jd. Vera Cruz', 'Sorocaba', 'SP', '32125809', 'edson.feitosa@ig.com.br', '1982-30-11 00:00:00.000', 'M')
INSERT INTO dbo.CLIENTES VALUES ('421346111', 'Rafael Fernando de Moraes Moreno', 'Rua Francisco de Souza, 123', 'Jd. Nova Esperança', 'São Roque', 'SP', '32274567', 'rafael@terra.com.br', '1985-04-01 00:00:00.000', 'M')
INSERT INTO dbo.CLIENTES VALUES ('324857670', 'João da Silva', 'Rua Mario Quintana, 13', 'Av. Bartolomeu', 'Sorocaba', 'SP', '32134098', 'joao@uol.com.br', '1992-12-05 00:00:00.000', 'M')
INSERT INTO dbo.CLIENTES VALUES ('112345553', 'Maria Chiquinha', 'Rua Padre Luiz, 55', 'Jd. Vera Cruz', 'Sorocaba', 'SP', '23336684', 'maria@ig.com.br', '1982-30-11 00:00:00.000', 'F')
INSERT INTO dbo.CLIENTES VALUES ('945848768', 'Rafael Nunes Sales', 'Rua Orlando Alvarenga, 4', 'Jd. Vera Cruz', 'Sorocaba', 'SP', '32124609', 'rafael.sales@terra.com.br', '1985-04-01 00:00:00.000', 'M')
INSERT INTO dbo.CLIENTES VALUES ('676548499', 'Daniela Martin Feitosa', 'Rua Guilherme Oliveria, 1', 'Jd. Vera das Acássicas', 'Votorantim', 'SP', '32132109', 'daniela.martin@gmail.com', '1986-26-12 00:00:00.000', 'F')
INSERT INTO dbo.CLIENTES VALUES ('321349999', 'Renata Cristina', 'Rua Orlando Alvarenga, 1', 'Jd. Vera Cruz', 'Sorocaba', 'SP', '32125809', 'renata@gmail', '1970-09-01 00:00:00.000', 'F')
INSERT INTO dbo.CLIENTES VALUES ('335466531', 'Joaquim Ferreira de Souza Junior', 'Rua Outubro Vermelho, 65', 'Jd. Santa Rosália', 'Votorantim', 'SP', '11125809', 'joaquim_junior@ig.com.br', '1980-04-08 00:00:00.000', 'M')
INSERT INTO dbo.CLIENTES VALUES ('112233445', 'Ladislau Ferreira', 'Rua Orlando Alvarenga, 12345', 'Jd. Vera Cruz', 'Sorocaba', 'SP', '32144409', 'ladislau@terra.com.br', '1988-01-03 00:00:00.000', 'M')
INSERT INTO dbo.CLIENTES VALUES ('222222222', 'Vanessa Oliveira', 'Rua das Flores, 1', 'Jd. do Sol', 'Votorantim', 'SP', '32122222', 'vanessa@ig.com.br', '1998-08-08 00:00:00.000', 'F')

--filmes
INSERT INTO dbo.FILME VALUES ('300', 1, 'Richard Donner', 3.5, 'n')
INSERT INTO dbo.FILME VALUES ('Máquina Mortífera', 1, 'Richard Donner', 3.6, 'n')
INSERT INTO dbo.FILME VALUES ('A Mexicana', 2, 'Burr Steers', 2, 's')
INSERT INTO dbo.FILME VALUES ('A Verdade Nua e Crua', 2, 'Robert Luketic', 4, 'n')
INSERT INTO dbo.FILME VALUES ('A vida é bela', 2, 'Roberto Benigni', 3.5, 's')
INSERT INTO dbo.FILME VALUES ('Austrália', 3, 'Baz Luhrmann', 4, 's')
INSERT INTO dbo.FILME VALUES ('Ultimato Bourn', 3, 'Paul Greengrass', 3.5, 'n')
INSERT INTO dbo.FILME VALUES ('Constantine', 4, 'Francis Lawrence', 2.5, 's')
INSERT INTO dbo.FILME VALUES ('Os Irmãos Grimm', 4, 'Terry Gilliam', 3.5, 'n')
INSERT INTO dbo.FILME VALUES ('Os Doze Macacos', 4, 'Terry Gilliam', 2.5, 'n')
INSERT INTO dbo.FILME VALUES ('Amadeus', 5, 'Milos Forman', 10, 'n')
INSERT INTO dbo.FILME VALUES ('As Torres Gêmeas', 5, 'Oliver Stone', 2.5, 's')
INSERT INTO dbo.FILME VALUES ('Platoon', 1, 'Oliver Stone', 5.5, 's')
INSERT INTO dbo.FILME VALUES ('O Advogado do Diabo', 6, 'Taylor Hackford', 1.5, 's')
INSERT INTO dbo.FILME VALUES ('Beowulf', 7, 'Robert Zemeckis', 1, 'n')
INSERT INTO dbo.FILME VALUES ('Bolt o super cão', 7, 'Byron Howard', 1.5, 's')
INSERT INTO dbo.FILME VALUES ('Apertem o cinto o piloto sumiu', 9, 'Jim Abrahams', 3.6, 's')
INSERT INTO dbo.FILME VALUES ('Doze é demais', 9, 'Shawn Levy', 9.2, 's')
INSERT INTO dbo.FILME VALUES ('Uma noite no museu', 9, 'Shawn Levy', 2.5, 'n')

--Locações
INSERT INTO LOCACOES VALUES (1,1, '2010-20-03 19:05:43.887', '2010-23-03 00:00:00.000')
INSERT INTO LOCACOES VALUES (1,6, '2010-20-03 19:05:43.887', '2010-23-03 00:00:00.000')
INSERT INTO LOCACOES VALUES (1,8, '2010-20-03 19:05:43.887', '2010-23-03 00:00:00.000')
INSERT INTO LOCACOES VALUES (1,2, '2010-15-03 00:00:00.000', '2010-17-03 00:00:00.000')
INSERT INTO LOCACOES VALUES (1,13, '2010-15-03 00:00:00.000', '2010-17-03 00:00:00.000')
INSERT INTO LOCACOES VALUES (2,5, '2010-20-03 19:05:43.887', '2010-21-03 00:00:00.000')
INSERT INTO LOCACOES VALUES (3,3, '2010-18-03 19:05:43.887', '2010-20-03 00:00:00.000')
INSERT INTO LOCACOES VALUES (3,19, '2010-18-03 19:05:43.887', '2010-20-03 00:00:00.000')
INSERT INTO LOCACOES VALUES (4,17, '2010-01-03 19:05:43.887', '2010-03-03 00:00:00.000')
INSERT INTO LOCACOES VALUES (5,5, '2010-03-03 19:05:43.887', '2010-05-03 00:00:00.000')
INSERT INTO LOCACOES VALUES (6,7, '2010-03-03 19:05:43.887', '2010-04-03 00:00:00.000')
INSERT INTO LOCACOES VALUES (6,9, '2010-03-03 19:05:43.887', '2010-04-03 00:00:00.000')
INSERT INTO LOCACOES VALUES (7,16, '2010-13-03 19:05:43.887', '2010-15-03 00:00:00.000')
INSERT INTO LOCACOES VALUES (7,1, '2010-13-03 19:05:43.887', '2010-15-03 00:00:00.000')
INSERT INTO LOCACOES VALUES (7,5, '2010-14-03 19:05:43.887', '2010-16-03 00:00:00.000')
INSERT INTO LOCACOES VALUES (7,8, '2010-14-03 19:05:43.887', '2010-16-03 00:00:00.000')
INSERT INTO LOCACOES VALUES (7,11, '2010-14-03 19:05:43.887', '2010-16-03 00:00:00.000')
INSERT INTO LOCACOES VALUES (7,12, '2010-15-03 19:05:43.887', '2010-17-03 00:00:00.000')
INSERT INTO LOCACOES VALUES (8,9, '2010-20-03 19:05:43.887', '2010-21-03 00:00:00.000')
INSERT INTO LOCACOES VALUES (9,3, '2010-21-03 19:05:43.887', '2010-22-03 00:00:00.000')
INSERT INTO LOCACOES VALUES (9,6, '2010-21-03 19:05:43.887', '2010-22-03 00:00:00.000')
INSERT INTO LOCACOES VALUES (10,10, '2010-20-02 19:05:43.887', '2010-21-02 00:00:00.000')

